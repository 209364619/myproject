<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>

<head>
    <title>Distinct Widget a Responsive Widget Template :: w3layouts</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="keywords"
          content="Distinct Widget web template Responsive, Login form web template,Flat Pricing tables,Flat Drop downs  Sign up Web Templates, Flat Web Templates, Login sign up Responsive web template, SmartPhone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design"
    />
    <link href="/static/css/style.css" rel='stylesheet' type='text/css'/>
    <link href="/static/css/font-awesome.css" rel="stylesheet">
    <!-- //end-smoth-scrolling -->
    <link href="//fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
</head>

<body>
<h1 class="title-head">Distinct widget</h1>
<div class="agileits-main-grid">
    <div class="content text-center">
        <h3>is this you ?</h3>
        <div class="img-grid">
            <img src="/static/images/1.png" alt=" " class="img-responsive"/>
            <h4>Robert K. Garcia</h4>
        </div>
        <div class="alert-close"></div>
        <ul class="list">
            <li>
                <span>200</span>
                followers
            </li>
            <li>
                <span>	130</span>
                following
            </li>
            <li>
                <span>170</span>
                tweets
            </li>
        </ul>
        <a href="#">connect with twitter</a>

    </div>
    <div class="right-grid-w3ls text-center">
        <h3>login here</h3>
        <form method="post">
            <div class="img-grid1">
                <img src="/static/images/2.png" alt=" " class="img-responsive"/>
            </div>
            <div class="w3ls-icon">
                <i class="fa fa-envelope" aria-hidden="true"></i>
                <input type="text" class="user" name="username" id="username" placeholder="username" required=""/>
            </div>
            <div class="w3ls-icon">
                <i class="fa fa-lock" aria-hidden="true"></i>
                <input type="password" class="lock" name="password" id="password" placeholder="Password" required=""/>
            </div>
            <input type="button" value="login" onclick="login()"/>
        </form>

    </div>
</div>
<div class="copy-right w3l-agile">
    <p> © 2018 Distinct Widget. All Rights Reserved | Design by
        <a href="http://w3layouts.com">W3layouts</a>
    </p>
</div>
<script src="/static/js/jquery-2.1.4.min.js"></script>
<script src="../static/js/jsencrypt.js"></script>
<script>
    $(document).ready(function (c) {
        $('.alert-close').on('click', function (c) {
            $('.content').fadeOut('slow', function (c) {
                $('.content').remove();
            });
        });
    });

    /*
    登录密码通过rsa进行加密后，传输到台处理
     */
    function login() {
        var username = $('#username').val();
        var password = $("#password").val();
        console.log(password)
        var PUBLIC_KEY = "-----BEGIN PUBLIC KEY-----\n" +
            "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDiRK/s+kYoIVo+S36lnyjtmZ2V\n" +
            "A3XKOGr2fNJDwo8P8mwE6YFYLhe8QIqGtj5kaxHXLzbEK8vUvI1yQphBAdEwtZ7y\n" +
            "vl9VGcMH+VvnuBtyrpsPg+ncCqbYoF1Spe2+6nMSvDiWd+7zQSm5g7YYPIefwKq1\n" +
            "fJ70HGIMU2++IliAxwIDAQAB\n" +
            "-----END PUBLIC KEY----- "
        //rsa加密
        var encrypt = new JSEncrypt();
        encrypt.setPublicKey(PUBLIC_KEY);
        password = encrypt.encrypt(password);
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "/login_check/",
            data: {
                "username": username,
                "password": password,
            },
            success: function (data) {
                console.log(data['info'])
            }
        });
    }
</script>
<script>

</script>
</body>

</html>